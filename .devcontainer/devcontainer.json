{
    "image": "php:8.3-cli",
    "features": {
        "ghcr.io/devcontainers/features/common-utils:2": {
            "installZsh": false
        }
    },
    "postCreateCommand": "/bin/bash ./.devcontainer/postCreateCommand.sh",
    "mounts": [
        {
            "source": "${localWorkspaceFolderBasename}-var",
            "target": "${containerWorkspaceFolder}/var",
            "type": "volume"
        },
        {
            "source": "${localWorkspaceFolderBasename}-vendor",
            "target": "${containerWorkspaceFolder}/vendor",
            "type": "volume"
        }
    ],
    "customizations": {
        "vscode": {
            "settings": {
                "[php]": {
                    "editor.defaultFormatter": "ValeryanM.vscode-phpsab"
                },
                "editor.codeActionsOnSave": {
                    "source.fixAll": "always"
                },
                "editor.formatOnSave": true,
                "editor.linkedEditing": true,
                "files.exclude": {
                    "var/": true,
                    "vendor/": true
                },
                "intelephense.diagnostics.enable": true,
                "intelephense.environment.phpVersion": "${containerEnv:PHP_VERSION}",
                "intelephense.format.enable": false,
                "php.suggest.basic": false,
                "php.validate.enable": false,
                "phpsab.autoRulesetSearch": true,
                "phpsab.executablePathCBF": "vendor/bin/phpcbf",
                "phpsab.executablePathCS": "vendor/bin/phpcs",
                "phpsab.fixerEnable": true,
                "phpsab.snifferEnable": true,
                "phpsab.snifferMode": "onType",
                "phpsab.snifferShowSources": true,
                "phpsab.standard": "PSR12",
                "phpstan.enabled": true,
                "phpstan.initialAnalysis": false,
                "phpstan.path": "vendor/bin/phpstan",
                "phpunit.phpunit": "vendor/bin/simple-phpunit",
                "todo-tree.filtering.excludeGlobs": [
                    "var/",
                    "vendor/"
                ],
                "twig-language-2.formatting": false
            },
            "extensions": [
                "bmewburn.vscode-intelephense-client",
                "donjayamanne.githistory",
                "editorconfig.editorconfig",
                "gruntfuggly.todo-tree",
                "mblode.twig-language-2",
                "recca0120.vscode-phpunit",
                "remcohaszing.schemastore",
                "swordev.phpstan",
                "ValeryanM.vscode-phpsab"
            ]
        }
    }
}
